<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EasyPay - PTC Reward</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f3fdf4;
      color: #111;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: white;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      border-radius: 8px;
    }
    h1 {
      color: #2f8f2f;
      text-align: center;
    }
    .timer {
      font-size: 22px;
      color: #f44336;
      font-weight: bold;
      text-align: center;
      margin: 20px 0;
    }
    .blog-image {
      width: 100%;
      border-radius: 8px;
      margin: 20px 0;
    }
    .section-title {
      color: #2f8f2f;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>EasyPay</h1>
    <p style="color:#f44336;text-align:center;font-weight:bold;">
      Important! Your browser must have JavaScript enabled, your ad blocker must be disabled, you must stay on the final page for about 20 seconds, you must have cookies enabled, and you must not use VPN.
    </p>
    <div class="timer">Please wait: <span id="countdown">20</span> seconds</div>

    <h2 class="section-title">The World of Sports: A Journey of Passion, Perseverance, and Triumph</h2>
    <p>
      Sports have been an integral part of human culture for centuries, bringing people together, fostering community, and inspiring greatness...
    </p>
    <img src="tennis-player.jpg" alt="Sports" class="blog-image" />
    <h3 class="section-title">The Benefits of Sports</h3>
    <p>Engaging in sports offers numerous benefits...</p>
    <h3 class="section-title">Popular Sports Around the World</h3>
    <ul>
      <li><strong>Football (Soccer):</strong> The world's most popular sport... ‚öΩÔ∏è</li>
      <li><strong>Basketball:</strong> A fast-paced, high-flying sport... üèÄ</li>
      <li><strong>Tennis:</strong> A sport of skill, strategy... üéæ</li>
      <li><strong>Cricket:</strong> A bat-and-ball game... üèè</li>
      <li><strong>Volleyball:</strong> A popular team sport... üèê</li>
    </ul>
    <h3 class="section-title">The Impact of Sports on Society</h3>
    <p>Sports have a profound impact on society, promoting social cohesion...</p>
    <h3 class="section-title">The Future of Sports</h3>
    <p>As technology continues to evolve, sports are becoming more innovative...</p>
    <h3 class="section-title">Conclusion</h3>
    <p>Sports are a universal language, bringing people together and inspiring greatness...</p>
  </div>

  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDRkip46Ql5KhNfuatWAcAxQzgP5VtQ8UY",
      authDomain: "easypay-6bce8.firebaseapp.com",
      projectId: "easypay-6bce8",
      storageBucket: "easypay-6bce8.appspot.com",
      messagingSenderId: "862671358267",
      appId: "1:862671358267:web:b243c7b69840ef918c8f1e",
      measurementId: "G-2FZKDQ47FZ"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    let seconds = 20;
    const countdownEl = document.getElementById("countdown");

    const timer = setInterval(() => {
      seconds--;
      countdownEl.textContent = seconds;
      if (seconds <= 0) {
        clearInterval(timer);
        rewardUser();
      }
    }, 1000);

    function rewardUser() {
      auth.onAuthStateChanged(user => {
        if (user) {
          const userRef = db.collection("users").doc(user.uid);
          userRef.get().then(doc => {
            const data = doc.data();
            const lastClaim = data.lastPTCClaim || 0;
            const now = Date.now();
            if (now - lastClaim >= 86400000) {
              // Update balance
              const newBalance = (data.balance || 0) + 1;
              userRef.update({
                balance: newBalance,
                lastPTCClaim: now
              });
              db.collection("transactions").add({
                uid: user.uid,
                type: "PTC Task",
                amount: 1,
                date: new Date().toLocaleString()
              });
              alert("You've been credited ‚Ç¶1 for viewing the ad!");
            } else {
              alert("You‚Äôve already claimed this reward in the last 24 hours.");
            }
          });
        } else {
          alert("Please login to claim your reward.");
        }
      });
    }
  </script>
</body>
</html>
